{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\angel\\\\Documents\\\\Angular\\\\nftmarketplacefrontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/forms\";\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nexport class SigninComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.passwordRegex = \"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\";\n    this.userType = \"Customer\";\n    this.form = new FormGroup({\n      username: new FormControl('', Validators.required),\n      fullname: new FormControl('', Validators.required),\n      password: new FormControl('', [Validators.required, Validators.pattern(this.passwordRegex)]),\n      email: new FormControl('', [Validators.required, Validators.email])\n    });\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    if (this.form.invalid) {\n      this.showAlert();\n      return;\n    }\n\n    this.createUser();\n  }\n\n  createUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.userService.createUser(_this.form.value, _this.userType).subscribe({\n        complete: () => {\n          alert(\"User created succesfully\"); //Redirect to somewhere\n        },\n        error: rej => {\n          switch (rej.error) {\n            case \"Username not available\":\n              alert(\"Username not available\");\n              break;\n\n            case \"Email not available\":\n              alert(\"Email not available\");\n              break;\n\n            default:\n              alert(\"Something goes wrong...\");\n              break;\n          }\n        }\n      });\n    })();\n  }\n\n  showAlert() {\n    if (this.form.controls[\"username\"].status == \"INVALID\") {\n      alert(\"Username is invalid\");\n      return;\n    }\n\n    if (this.form.controls[\"fullname\"].status == \"INVALID\") {\n      alert(\"Full name is invalid\");\n      return;\n    }\n\n    if (this.form.controls[\"password\"].status == \"INVALID\") {\n      alert(\"Password is invalid\");\n      return;\n    }\n\n    if (this.form.controls[\"email\"].status == \"INVALID\") {\n      alert(\"Email is invalid\");\n      return;\n    }\n  }\n\n}\n\nSigninComponent.ɵfac = function SigninComponent_Factory(t) {\n  return new (t || SigninComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\n\nSigninComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SigninComponent,\n  selectors: [[\"app-signin\"]],\n  decls: 35,\n  vars: 4,\n  consts: [[1, \"row\"], [1, \"col-xl-4\"], [1, \"text-center\"], [1, \"p-3\", \"shadow-lg\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-1\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [\"for\", \"fullname\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"fullname\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\"], [\"for\", \"userType\", 1, \"form-label\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"selected\", \"\", \"value\", \"Customer\"], [\"value\", \"Investor\"], [1, \"mt-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function SigninComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"h1\", 2);\n      i0.ɵɵtext(4, \" Signin \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"hr\");\n      i0.ɵɵelementStart(6, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function SigninComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n      i0.ɵɵtext(9, \"User Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 7);\n      i0.ɵɵtext(13, \"Full name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"label\", 9);\n      i0.ɵɵtext(17, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 11);\n      i0.ɵɵtext(21, \"E-mail\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(22, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 4)(24, \"label\", 13);\n      i0.ɵɵtext(25, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"select\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function SigninComponent_Template_select_ngModelChange_26_listener($event) {\n        return ctx.userType = $event;\n      });\n      i0.ɵɵelementStart(27, \"option\", 15);\n      i0.ɵɵtext(28, \"Customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"option\", 16);\n      i0.ɵɵtext(30, \"Investor\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"div\", 17)(32, \"button\", 18);\n      i0.ɵɵtext(33, \"Send\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(34, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngModel\", ctx.userType)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.SelectControlValueAccessor, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaWduaW4uY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/angel/Documents/Angular/nftmarketplacefrontend/src/app/components/signin/signin.component.ts"],"names":["FormControl","FormGroup","Validators","i0","i1","i2","_c0","standalone","SigninComponent","constructor","userService","passwordRegex","userType","form","username","required","fullname","password","pattern","email","ngOnInit","onSubmit","invalid","showAlert","createUser","value","subscribe","complete","alert","error","rej","controls","status","ɵfac","SigninComponent_Factory","t","ɵɵdirectiveInject","UserService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","SigninComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","SigninComponent_Template_form_ngSubmit_6_listener","SigninComponent_Template_select_ngModelChange_26_listener","$event","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","SelectControlValueAccessor","NgModel","NgSelectOption","ɵNgSelectMultipleOption","styles"],"mappings":"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","sourcesContent":["import { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/user.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nconst _c0 = function () { return { standalone: true }; };\r\nexport class SigninComponent {\r\n    constructor(userService) {\r\n        this.userService = userService;\r\n        this.passwordRegex = \"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\";\r\n        this.userType = \"Customer\";\r\n        this.form = new FormGroup({\r\n            username: new FormControl('', Validators.required),\r\n            fullname: new FormControl('', Validators.required),\r\n            password: new FormControl('', [Validators.required, Validators.pattern(this.passwordRegex)]),\r\n            email: new FormControl('', [Validators.required, Validators.email])\r\n        });\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onSubmit() {\r\n        if (this.form.invalid) {\r\n            this.showAlert();\r\n            return;\r\n        }\r\n        this.createUser();\r\n    }\r\n    async createUser() {\r\n        await this.userService.createUser(this.form.value, this.userType).subscribe({\r\n            complete: () => {\r\n                alert(\"User created succesfully\");\r\n                //Redirect to somewhere\r\n            },\r\n            error: (rej) => {\r\n                switch (rej.error) {\r\n                    case \"Username not available\":\r\n                        alert(\"Username not available\");\r\n                        break;\r\n                    case \"Email not available\":\r\n                        alert(\"Email not available\");\r\n                        break;\r\n                    default:\r\n                        alert(\"Something goes wrong...\");\r\n                        break;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    showAlert() {\r\n        if (this.form.controls[\"username\"].status == \"INVALID\") {\r\n            alert(\"Username is invalid\");\r\n            return;\r\n        }\r\n        if (this.form.controls[\"fullname\"].status == \"INVALID\") {\r\n            alert(\"Full name is invalid\");\r\n            return;\r\n        }\r\n        if (this.form.controls[\"password\"].status == \"INVALID\") {\r\n            alert(\"Password is invalid\");\r\n            return;\r\n        }\r\n        if (this.form.controls[\"email\"].status == \"INVALID\") {\r\n            alert(\"Email is invalid\");\r\n            return;\r\n        }\r\n    }\r\n}\r\nSigninComponent.ɵfac = function SigninComponent_Factory(t) { return new (t || SigninComponent)(i0.ɵɵdirectiveInject(i1.UserService)); };\r\nSigninComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SigninComponent, selectors: [[\"app-signin\"]], decls: 35, vars: 4, consts: [[1, \"row\"], [1, \"col-xl-4\"], [1, \"text-center\"], [1, \"p-3\", \"shadow-lg\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-1\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [\"for\", \"fullname\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"fullname\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\"], [\"for\", \"userType\", 1, \"form-label\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"selected\", \"\", \"value\", \"Customer\"], [\"value\", \"Investor\"], [1, \"mt-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]], template: function SigninComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelement(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"h1\", 2);\r\n        i0.ɵɵtext(4, \" Signin \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(5, \"hr\");\r\n        i0.ɵɵelementStart(6, \"form\", 3);\r\n        i0.ɵɵlistener(\"ngSubmit\", function SigninComponent_Template_form_ngSubmit_6_listener() { return ctx.onSubmit(); });\r\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\r\n        i0.ɵɵtext(9, \"User Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(10, \"input\", 6);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 7);\r\n        i0.ɵɵtext(13, \"Full name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(14, \"input\", 8);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(15, \"div\", 4)(16, \"label\", 9);\r\n        i0.ɵɵtext(17, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(18, \"input\", 10);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"div\", 4)(20, \"label\", 11);\r\n        i0.ɵɵtext(21, \"E-mail\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(22, \"input\", 12);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"div\", 4)(24, \"label\", 13);\r\n        i0.ɵɵtext(25, \"Type\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"select\", 14);\r\n        i0.ɵɵlistener(\"ngModelChange\", function SigninComponent_Template_select_ngModelChange_26_listener($event) { return ctx.userType = $event; });\r\n        i0.ɵɵelementStart(27, \"option\", 15);\r\n        i0.ɵɵtext(28, \"Customer\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"option\", 16);\r\n        i0.ɵɵtext(30, \"Investor\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(31, \"div\", 17)(32, \"button\", 18);\r\n        i0.ɵɵtext(33, \"Send\");\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelement(34, \"div\", 1);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\r\n        i0.ɵɵadvance(20);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.userType)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\r\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.SelectControlValueAccessor, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaWduaW4uY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}