{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\angel\\\\Documents\\\\Angular\\\\nftmarketplacefrontend\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/forms\";\n\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\n\nexport class SigninComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.passwordRegex = \"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\";\n    this.userType = \"Customer\";\n    this.form = new FormGroup({\n      username: new FormControl('', Validators.required),\n      fullname: new FormControl('', Validators.required),\n      password: new FormControl('', [Validators.required, Validators.pattern(this.passwordRegex)]),\n      email: new FormControl('', [Validators.required, Validators.email])\n    });\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    if (this.form.invalid) {\n      this.showAlert();\n      return;\n    }\n\n    this.createUser();\n  }\n\n  createUser() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      switch (_this.userType) {\n        case \"Customer\":\n          yield _this.userService.createCustomer(_this.form.value).subscribe({\n            complete: () => {\n              alert(\"User created succesfully\");\n            },\n            error: rej => {\n              switch (rej.error) {\n                case \"Username not available\":\n                  alert(\"Username not available\");\n                  break;\n\n                case \"Email not available\":\n                  alert(\"Email not available\");\n                  break;\n\n                default:\n                  alert(\"Something goes wrong...\");\n                  break;\n              }\n            }\n          });\n          break;\n\n        case \"Investor\":\n          yield _this.userService.createCustomer(_this.form.value).subscribe(resp => {\n            alert(\"User created succesfully\");\n          }, rej => {\n            switch (rej.error) {\n              case \"Username not available\":\n                alert(\"Username not available\");\n                break;\n\n              case \"Email not available\":\n                alert(\"Email not available\");\n                break;\n\n              default:\n                alert(\"Something goes wrong...\");\n                break;\n            }\n          });\n          break;\n      }\n    })();\n  }\n\n  showAlert() {\n    if (this.form.controls[\"username\"].status == \"INVALID\") {\n      alert(\"Username is invalid\");\n      return;\n    }\n\n    if (this.form.controls[\"fullname\"].status == \"INVALID\") {\n      alert(\"Full name is invalid\");\n      return;\n    }\n\n    if (this.form.controls[\"password\"].status == \"INVALID\") {\n      alert(\"Password is invalid\");\n      return;\n    }\n\n    if (this.form.controls[\"email\"].status == \"INVALID\") {\n      alert(\"Email is invalid\");\n      return;\n    }\n  }\n\n}\n\nSigninComponent.ɵfac = function SigninComponent_Factory(t) {\n  return new (t || SigninComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n};\n\nSigninComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SigninComponent,\n  selectors: [[\"app-signin\"]],\n  decls: 32,\n  vars: 4,\n  consts: [[1, \"row\"], [1, \"col-xl-4\"], [1, \"p-3\", \"shadow-lg\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-1\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [\"for\", \"fullname\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"fullname\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\"], [\"for\", \"userType\", 1, \"form-label\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"selected\", \"\", \"value\", \"Customer\"], [\"value\", \"Investor\"], [1, \"mt-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function SigninComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function SigninComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\n      i0.ɵɵtext(6, \"User Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 6);\n      i0.ɵɵtext(10, \"Full name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 8);\n      i0.ɵɵtext(14, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 10);\n      i0.ɵɵtext(18, \"E-mail\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(19, \"input\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 3)(21, \"label\", 12);\n      i0.ɵɵtext(22, \"Type\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"select\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function SigninComponent_Template_select_ngModelChange_23_listener($event) {\n        return ctx.userType = $event;\n      });\n      i0.ɵɵelementStart(24, \"option\", 14);\n      i0.ɵɵtext(25, \"Customer\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"option\", 15);\n      i0.ɵɵtext(27, \"Investor\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"div\", 16)(29, \"button\", 17);\n      i0.ɵɵtext(30, \"Send\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(31, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(20);\n      i0.ɵɵproperty(\"ngModel\", ctx.userType)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\n    }\n  },\n  directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.SelectControlValueAccessor, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaWduaW4uY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/angel/Documents/Angular/nftmarketplacefrontend/src/app/components/signin/signin.component.ts"],"names":["FormControl","FormGroup","Validators","i0","i1","i2","_c0","standalone","SigninComponent","constructor","userService","passwordRegex","userType","form","username","required","fullname","password","pattern","email","ngOnInit","onSubmit","invalid","showAlert","createUser","createCustomer","value","subscribe","complete","alert","error","rej","resp","controls","status","ɵfac","SigninComponent_Factory","t","ɵɵdirectiveInject","UserService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","SigninComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵlistener","SigninComponent_Template_form_ngSubmit_3_listener","ɵɵtext","ɵɵelementEnd","SigninComponent_Template_select_ngModelChange_23_listener","$event","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","DefaultValueAccessor","NgControlStatus","FormControlName","SelectControlValueAccessor","NgModel","NgSelectOption","ɵNgSelectMultipleOption","styles"],"mappings":"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","sourcesContent":["import { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/user.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nconst _c0 = function () { return { standalone: true }; };\r\nexport class SigninComponent {\r\n    constructor(userService) {\r\n        this.userService = userService;\r\n        this.passwordRegex = \"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$\";\r\n        this.userType = \"Customer\";\r\n        this.form = new FormGroup({\r\n            username: new FormControl('', Validators.required),\r\n            fullname: new FormControl('', Validators.required),\r\n            password: new FormControl('', [Validators.required, Validators.pattern(this.passwordRegex)]),\r\n            email: new FormControl('', [Validators.required, Validators.email])\r\n        });\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    onSubmit() {\r\n        if (this.form.invalid) {\r\n            this.showAlert();\r\n            return;\r\n        }\r\n        this.createUser();\r\n    }\r\n    async createUser() {\r\n        switch (this.userType) {\r\n            case \"Customer\":\r\n                await this.userService.createCustomer(this.form.value).subscribe({\r\n                    complete: () => {\r\n                        alert(\"User created succesfully\");\r\n                    },\r\n                    error: (rej) => {\r\n                        switch (rej.error) {\r\n                            case \"Username not available\":\r\n                                alert(\"Username not available\");\r\n                                break;\r\n                            case \"Email not available\":\r\n                                alert(\"Email not available\");\r\n                                break;\r\n                            default:\r\n                                alert(\"Something goes wrong...\");\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            case \"Investor\":\r\n                await this.userService.createCustomer(this.form.value).subscribe(resp => {\r\n                    alert(\"User created succesfully\");\r\n                }, rej => {\r\n                    switch (rej.error) {\r\n                        case \"Username not available\":\r\n                            alert(\"Username not available\");\r\n                            break;\r\n                        case \"Email not available\":\r\n                            alert(\"Email not available\");\r\n                            break;\r\n                        default:\r\n                            alert(\"Something goes wrong...\");\r\n                            break;\r\n                    }\r\n                });\r\n                break;\r\n        }\r\n    }\r\n    showAlert() {\r\n        if (this.form.controls[\"username\"].status == \"INVALID\") {\r\n            alert(\"Username is invalid\");\r\n            return;\r\n        }\r\n        if (this.form.controls[\"fullname\"].status == \"INVALID\") {\r\n            alert(\"Full name is invalid\");\r\n            return;\r\n        }\r\n        if (this.form.controls[\"password\"].status == \"INVALID\") {\r\n            alert(\"Password is invalid\");\r\n            return;\r\n        }\r\n        if (this.form.controls[\"email\"].status == \"INVALID\") {\r\n            alert(\"Email is invalid\");\r\n            return;\r\n        }\r\n    }\r\n}\r\nSigninComponent.ɵfac = function SigninComponent_Factory(t) { return new (t || SigninComponent)(i0.ɵɵdirectiveInject(i1.UserService)); };\r\nSigninComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: SigninComponent, selectors: [[\"app-signin\"]], decls: 32, vars: 4, consts: [[1, \"row\"], [1, \"col-xl-4\"], [1, \"p-3\", \"shadow-lg\", 3, \"formGroup\", \"ngSubmit\"], [1, \"mb-1\"], [\"for\", \"username\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"username\", 1, \"form-control\"], [\"for\", \"fullname\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"fullname\", 1, \"form-control\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"email\", 1, \"form-control\"], [\"for\", \"userType\", 1, \"form-label\"], [1, \"form-select\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"selected\", \"\", \"value\", \"Customer\"], [\"value\", \"Investor\"], [1, \"mt-3\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]], template: function SigninComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelement(1, \"div\", 1);\r\n        i0.ɵɵelementStart(2, \"div\", 1)(3, \"form\", 2);\r\n        i0.ɵɵlistener(\"ngSubmit\", function SigninComponent_Template_form_ngSubmit_3_listener() { return ctx.onSubmit(); });\r\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"label\", 4);\r\n        i0.ɵɵtext(6, \"User Name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(7, \"input\", 5);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(8, \"div\", 3)(9, \"label\", 6);\r\n        i0.ɵɵtext(10, \"Full name\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(11, \"input\", 7);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"div\", 3)(13, \"label\", 8);\r\n        i0.ɵɵtext(14, \"Password\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(15, \"input\", 9);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(16, \"div\", 3)(17, \"label\", 10);\r\n        i0.ɵɵtext(18, \"E-mail\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(19, \"input\", 11);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"div\", 3)(21, \"label\", 12);\r\n        i0.ɵɵtext(22, \"Type\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"select\", 13);\r\n        i0.ɵɵlistener(\"ngModelChange\", function SigninComponent_Template_select_ngModelChange_23_listener($event) { return ctx.userType = $event; });\r\n        i0.ɵɵelementStart(24, \"option\", 14);\r\n        i0.ɵɵtext(25, \"Customer\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(26, \"option\", 15);\r\n        i0.ɵɵtext(27, \"Investor\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(28, \"div\", 16)(29, \"button\", 17);\r\n        i0.ɵɵtext(30, \"Send\");\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelement(31, \"div\", 1);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"formGroup\", ctx.form);\r\n        i0.ɵɵadvance(20);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.userType)(\"ngModelOptions\", i0.ɵɵpureFunction0(3, _c0));\r\n    } }, directives: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.DefaultValueAccessor, i2.NgControlStatus, i2.FormControlName, i2.SelectControlValueAccessor, i2.NgModel, i2.NgSelectOption, i2.ɵNgSelectMultipleOption], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzaWduaW4uY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}